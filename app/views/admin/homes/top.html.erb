<h2 class="mt-4 mb-3">統計情報</h2>
<table class="table table-bordered">
  <tbody>
    <tr>
      <th>登録ユーザー数</th>
      <td><%= User.where(guest: [false, nil]).count %></td>
    </tr>
    <tr>
      <th>ゲストユーザー数</th>
      <td><%= User.where(guest: true).count %></td>
    </tr>
    <tr>
      <th>登録アーティスト数</th>
      <td><%= Artist.count %></td>
    </tr>
    <tr>
      <th>コミュニティ数</th>
      <td><%= Group.count %></td>
    </tr>
    <tr>
      <th>未対応の通報</th>
      <td><%= Report.where(status: "unchecked").count %></td>
    </tr>
  </tbody>
</table>

<h2 class="mt-5 mb-3">最近の更新情報</h2>

<div class="mb-3">
  <h5>最近登録されたユーザー（最新5件）</h5>
  <ul>
    <% User.where(guest: [false, nil]).order(created_at: :desc).limit(5).each do |user| %>
      <li><%= link_to user.name, admin_user_path(user) %>（<%= l(user.created_at, format: :short) %>）</li>
    <% end %>
  </ul>
</div>

<div class="mb-3">
  <h5>最近作成されたアーティスト（最新5件）</h5>
  <ul>
    <% Artist.order(created_at: :desc).limit(5).each do |artist| %>
      <li><%= link_to artist.name, admin_artist_path(artist) %>（<%= l(artist.created_at, format: :short) %>）</li>
    <% end %>
  </ul>
</div>

<div class="mb-3">
  <h5>最近作成されたコミュニティ（最新5件）</h5>
  <ul>
    <% Group.order(created_at: :desc).limit(5).each do |group| %>
      <li><%= link_to group.name, admin_group_path(group) %>（<%= l(group.created_at, format: :short) %>）</li>
    <% end %>
  </ul>
</div>

<div class="mb-3">
  <h5>最近の通報（最新5件）</h5>
  <ul>
    <% Report.order(created_at: :desc).limit(5).each do |report| %>
      <li>
        No.<%= report.id %> - 
        <%= report.reportable_type %> -
        <%= l(report.created_at, format: :short) %>
        （<%= link_to "詳細", admin_report_path(report) %>）
      </li>
    <% end %>
  </ul>
</div>