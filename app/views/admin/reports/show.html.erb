<h2>通報詳細</h2>

<p><strong>ID:</strong> <%= @report.id %></p>
<p><strong>通報対象:</strong>
<% if @report.reportable.present? %>
  <% case @report.reportable_type %>
  <% when "Artist" %>
    <%= link_to @report.reportable.name, edit_admin_artist_path(@report.reportable.id) %>
  <% when "Topic" %>
    <% topic = @report.reportable %>
    <%= link_to "トピック編集: #{truncate(topic.title, length: 20)}", edit_admin_artist_topic_path(topic.artist, topic) %>
  <% when "Group" %>
    <%= link_to @report.reportable.name, edit_admin_group_path(@report.reportable.id) %>
<% when "Comment" %>
  <% comment = @report.reportable %>
  <% topic = comment.topic %>
  <% artist = topic.artist %>
  <p>通報対象コメント:</p>
  <blockquote><%= comment.body.truncate(100) %></blockquote>
  <%= link_to "該当トピックを見る", artist_topic_path(artist, topic, anchor: "comment_#{comment.id}") %>

<% when "GroupComment" %>
  <% group_comment = @report.reportable %>
  <% group = group_comment.group %>
  <p>通報対象コメント:</p>
  <blockquote><%= group_comment.body.truncate(100) %></blockquote>
  <%= link_to "該当グループを見る", group_path(group, anchor: "group_comment_#{group_comment.id}") %>

  <% else %>
    不明な対象
  <% end %>
<% else %>
  通報対象が存在しません
<% end %>
</p>
<p><strong>通報者:</strong> <%= @report.user.name %></p>
<p><strong>通報理由:</strong></p>
<p><%= simple_format(@report.reason) %></p>
<p><strong>通報日時:</strong> <%= l(@report.created_at, format: :long) %></p>

<%= link_to "一覧に戻る", admin_reports_path %>